<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>웹소설 플랫폼</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>연재 작품</h1>
    <p>보고 싶은 소설을 선택하세요</p>
  </header>

  <main id="novel-list"></main>

  <footer style="text-align:center;margin:3rem 0;">
    <a href="editor.html" style="font-size:0.85rem;color:#666;">관리자 페이지</a>
  </footer>

  <script>
    // ➊ 전체 작품 목록을 불러온다
    async function loadNovels() {
      const res = await fetch('./data/novels.json');
      const { novels } = await res.json();
      renderNovels(novels);
    }

    // ➋ 카드 형태로 출력
    function renderNovels(novels) {
      const list = document.getElementById('novel-list');
      list.innerHTML = novels.map(nv => `
        <div class="novel-card" onclick="location.href='reader.html?id=${nv.id}'">
          <img src="${nv.cover || './images/default-cover.jpg'}" alt="표지">
          <h3>${nv.title}</h3>
          <p>${nv.author}</p>
          <p>${nv.description}</p>
          <span class="chapter-count">${nv.chapterCount}화</span>
        </div>
      `).join('');
    }

    loadNovels();
  </script>
</body>
</html>
